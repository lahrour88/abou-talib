<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>إضافة منشور</title>

  <!-- مكتبة واحدة تكفي -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@ /swiper-bundle.min.css">
  <!-- ستايلات -->
  <link rel="stylesheet" href="/static/css/post-add.css">
  <link rel="stylesheet" href="/static/css/bootstrap-icons.css">
  <link rel="stylesheet" href="/static/css/bootstrap.min.css">
  <link rel="stylesheet" href="/static/css/templatemo-topic-listing.css">
  <link rel="stylesheet" href="/static/css/profile_page1.css">

  <style>
    input {
      border-color: rgb(236, 205, 158);
    }
  </style>
</head>
<body>
  {% include "appbare.html" %}
  <br><br>

  <form id="postForm" action="{{ url_for('post_add') }}" method="POST" enctype="multipart/form-data">
    <div class="file-upload">
      <br>
      <input type="file" name="img1" id="img1" accept="image/*">
      <input type="file" name="img2" id="img2" accept="image/*">
      <input type="file" name="img3" id="img3" accept="image/*">
      <input type="file" name="img4" id="img4" accept="image/*">
    </div>
    <div><input type="text" name="title" placeholder="العنوان" required></div>
    <div><input type="text" name="topic" placeholder="ضع الاحتمالات للفصل بينها استعمل // أو #"></div>
    <div><textarea name="body" rows="4" placeholder="اكتب نص ..."></textarea></div>

    <div>
      <select name="page" id="page" required>
        <option value="">اختر وجهة المنشور</option>
        <option value="sport">sport</option>
        <option value="takafa">takafa</option>
        <option value="news">news</option>
      </select>
    </div>

    <a class="home" href="{{ url_for('home') }}">إلغاء النشر</a>
    {% if error %}
      <p style="color:red;">{{ error }}</p>
    {% endif %}

    <div class="button"><input type="submit" id="submitBtn" value="نشر"></div>
  </form>

  <!-- سكربتات في أسفل الصفحة -->
  <script src="/static/js/bootstrap.bundle.min.js"></script>
  <script src="/static/js/custom.js"></script>
  <script src="/static/js/jquery.min.js"></script>
  <script src="/static/js/jquery.sticky.js"></script>
  <script src="/static/lien.js"></script>
  <script>
  const form = document.getElementById("postForm");
  const btn = document.getElementById("submitBtn");

  form.addEventListener("submit", function () {
    btn.disabled = true;
    btn.value = "جارٍ الإرسال...";
    setTimeout(() => {
      btn.disabled = false;
      btn.value = "نشر";
    }, 80000);
  });
</script>

  <script>
    // معاينة أسماء الملفات المرفوعة
    document.querySelectorAll('input[type="file"]').forEach(input => {
      input.addEventListener('change', function (e) {
      });
    });
  </script>
</body>
</html>
